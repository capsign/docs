# ERC-7752: Lot-Based Tokens

The CMX Protocol implements **ERC-7752**, a revolutionary token standard that treats every acquisition (lot) as its own on-chain record, enabling precise capital markets compliance and accounting.

## Why Lot-Based Tokens Matter for Capital Markets

- **Per-Lot Cost Basis** - Every token acquisition maintains its own cost basis for accurate tax reporting
- **Regulatory Lineage** - Complete audit trail from initial issuance through all transfers
- **Compliance Controls** - Granular restrictions based on acquisition method and timing
- **Tax Reporting** - Built-in FIFO/LIFO accounting for automated regulatory filing

## Key Capital Markets Use Cases

| Asset Type              | ERC-7752 Benefits                                                               |
| ----------------------- | ------------------------------------------------------------------------------- |
| **Equity & Options**    | Track every stock certificate or grant as individual lots with vesting metadata |
| **Debt & Convertibles** | Maintain coupon payment history and conversion lineage via parentLotId          |
| **Private Securities**  | Handle lock-ups, vesting schedules, and wash-sale rule compliance               |
| **Fund Accounting**     | Generate investor K-1s and Form 8949 reports automatically from on-chain data   |

## Transfer Types for Regulatory Context

- `INTERNAL` - Administrative transfers between controlled wallets (typically non-taxable)
- `SALE` - Market transactions for consideration (taxable events)
- `GIFT` - Gratuitous transfers between parties (gift tax implications)
- `INHERITANCE` - Estate/probate distributions (stepped-up basis)
- `REWARD` - Airdrops, staking yields, payroll RSUs (compensation income)

## Technical Implementation

ERC-7752 uses a linked ERC-1155 architecture where each `tokenId` represents a unique lot with complete transaction history. This provides:

- **Efficient Auditing** - Easy tracking of any token's complete history
- **Unique Metadata** - Each transfer can have its own URI pointing to legal documents
- **Compliance Benefits** - Essential for private RWA issuers requiring detailed reporting

## Learn More

- **[ERC-7752 Specification](https://ethereum-magicians.org/t/erc-7752-lot-token/20735)** - Full technical specification and discussion
- **[Smart Contract Implementation](contracts.md#erc-7752-lot-tokens)** - CMX Protocol's ERC-7752 contracts
- **[Integration Guide](../developers/README.md)** - How to integrate ERC-7752 in your application
- **[Compliance Framework](../compliance/README.md)** - Understanding regulatory requirements
